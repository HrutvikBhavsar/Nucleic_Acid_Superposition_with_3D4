import os

#Asks for user input
print("Files present with the .tsv extension:")
print("*************************")
for file in os.listdir():
    if file[-4:] == ".tsv":
        print(file)
print("*************************")

UserTSV=input('Enter the name of the TSV file you would like to be read: ')
tsv_file = open(UserTSV, "r")


NonAcids=input('Enter the name of the List of Exceptions PDBs you would like to be read: ')
ExceptionList = open(NonAcids, "r")

#things to be filled later in script
BadPDBs=[]
f = open(UserTSV[:-4]+"-BadPDBsRemoved.tsv", "a")

#build list of bad PDBs
for line in ExceptionList:
    a = line.split()
    BadPDBs.append(a[0])


#remove bad PDB lines from tsv, write to new file
for line in tsv_file:
    a = line.split()
    if a[0] in BadPDBs:
        continue
    f.write(line)
